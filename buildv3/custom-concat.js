Ember.Handlebars.registerHelper("controlWithVars",function(p,j,q){if(arguments.length===2){q=j;j=undefined}var g;if(j){g=Ember.Handlebars.get(this,j,q)}var h=q.data.keywords.controller,o=q.data.keywords.view,b=Em.get(h,"_childContainers"),e=q.hash.controlID,a,n;if(b.hasOwnProperty(e)){n=b[e]}else{a=h.get("container"),n=a.child();b[e]=n}var c=p.replace(/\//g,".");var i=n.lookup("view:"+c)||n.lookup("view:default"),f=n.lookup("controller:"+c),m=n.lookup("template:"+p);if(!window.controller){window.controller=0}for(var d in q.hash){f[d]=q.hash[d]}Ember.assert("Could not find controller for path: "+c,f);Ember.assert("Could not find view for path: "+c,i);Em.set(f,"target",h);Em.set(f,"model",g);q.hash.template=m;q.hash.controller=f;function l(){var k=Ember.Handlebars.get(this,j,q);set(f,"model",k);i.rerender()}Ember.addObserver(this,j,l);i.one("willDestroyElement",this,function(){Ember.removeObserver(this,j,l)});Ember.Handlebars.helpers.view.call(this,i,q)});Ember.Handlebars.registerHelper("controlWithVarsold",function(p,l,q){var h,b,o,i,f,a,n,c;var d=p.replace(/\//g,".");console.log("controlWithVars",p);console.log(">path",p);console.log(">contextString",l);console.log(">options",q);console.log(">container",q.data.keywords.controller.container);console.log("keywords>",q.data.keywords);if(arguments.length===2){q=l;l=undefined}a=q.data.keywords.controller.container;if(typeof l==="string"){f=q.contexts[1];b=Ember.Handlebars.get(f,l,q);console.log(">(contextString is string) context",b)}else{if(l){b=Ember.Handlebars.get(this,l,q)}}if(i=q.hash.controller){}else{i=Ember.controllerFor(a,d,b)}o=q.data.keywords.view;c=Em.get(i,"_childContainers"),controlID=q.hash.controlID;if(c.hasOwnProperty(controlID)){n=c[controlID]}else{a=Em.get(i,"container"),n=a.child();c[controlID]=n}var j=n.lookup("view:"+d)||n.lookup("view:default"),g=n.lookup("controller:"+d),m=n.lookup("template:"+p);for(var e in q.hash){g.set(e,q.hash[e])}console.log("view?",o);console.log("childView?",j);console.log("childController?",g);Ember.assert("Could not find controller for path: "+d,g);Ember.assert("Could not find view for path: "+d,j);Em.set(g,"target",i);Em.set(g,"context",b);q.hash.template=m;q.hash.controller=i;console.log("adding via view:",j);Ember.Handlebars.helpers.view.call(this,j,q)});Ember.Handlebars.registerHelper("renderWithVars",function(a,e,i){Ember.assert("You must pass a template to render",arguments.length>=2);var b,h,d,g,c;if(arguments.length===2){i=e;e=undefined}if(typeof e==="string"){c=Ember.Handlebars.get(i.contexts[1],e,i)}a=a.replace(/\//g,".");b=i.data.keywords.controller.container;h=b.lookup("router:main");Ember.assert("This view is already rendered",!h||!h._lookupActiveView(a));g=b.lookup("view:"+a)||b.lookup("view:default");$.extend(i.hash.controller,i.hash);if(d=i.hash.controller){d=b.lookup("controller:"+d);console.log("controller")}else{d=Ember.controllerFor(b,a,c)}$.extend(d,i.hash);if(d&&c){d.set("model",c)}var f=i.contexts[1];if(f){g.registerObserver(f,e,function(){d.set("model",Ember.Handlebars.get(f,e,i))})}i.hash.viewName=Ember.String.camelize(a);i.hash.template=b.lookup("template:"+a);i.hash.controller=d;if(h){h._connectActiveView(a,g)}Ember.Handlebars.helpers.view.call(this,g,i)});App=Ember.Application.create({DEBUG:false,PRELOADER:{},scriptModel:null,rootElement:$(".app")[0],ready:function(){App.scriptModel=App.ScriptModel.create({});App.Router.map(function(){this.route("index",{path:"/"});this.route("dimension1",{path:"/d1"});this.route("dimension2",{path:"/d2"});this.route("dimension3",{path:"/d3"})})},readyAndLoaded:function(){console.log("readyAndLoaded")},eventMapper:ragh.eventMapper,colors:["#FF0000","#993366","#3399CC","#0099FF","#00CC33","#00FF00"]});App.BREAKPOINT={WIDTH_2:1280,HEIGHT_2:576,WIDTH_1:768,HEIGHT_1:576,WIDTH_0:448,HEIGHT_0:320};App.dictionary=Em.Object.create({copy:{},isReady:false,init:function(){App.eventMapper.addEventListener("preloaderIsLoaded",this,function(a){return function(c,d){var b=d.target.getResult("copy").split("=\n");b=b.splice(1,b.length-1);var e=b.forEach(function(i,h,g){var f=i.split("\n");var j=f.splice(0,1);a.copy[j[0]]=f.join("\n")});a.isReady=true;App.eventMapper.triggerEvent(ragh.MEvt.create("isDictionaryReady"))}}(this))}});Em.Object.reopenClass({create:function(a){return this._super().setProperties(a)}});App.KnobController=Em.ObjectController.extend({callDynamicController:function(){console.log(".callDynamicController()")}});App.KnobView=Em.View.extend({templateName:"knob"});if(App.DEBUG){var stats=new Stats();stats.setMode(1);stats.domElement.style.position="absolute";stats.domElement.style.left="0px";stats.domElement.style.top="0px";document.body.appendChild(stats.domElement);setInterval(function(){stats.begin();stats.end()},1000/60)};