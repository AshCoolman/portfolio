App.CogView=App.EslEntityView.extend({templateName:"cog",className:"CogView",cog:null,dragger:null,override_createEsl:function(){this.cog=new createjs.Bitmap("img/cog.png");this.cog.image.onload=(function(a){return function(){a.cog.isImgLoaded=true;a.override_draw()}}(this));this.dragger=new createjs.Container();this.dragger.addChild(this.cog);this.dragger.addEventListener("mousedown",(function(a){return function(b){var c={x:b.target.x-b.stageX,y:b.target.y-b.stageY};b.addEventListener("mousemove",function(d){d.target.x=a.snap(d.stageX+c.x);d.target.y=a.snap(d.stageY+c.y)})}}(this)));console.log("override_createEsl()",this.dragger);return this.dragger},override_draw:function(b){var a=b?b:this.eslObj;Em.assert("CogView.override_draw(): function called before eslObj was created ",this.eslObj);if(this.cog.isImgLoaded){this.cog.regX=this.cog.image.width/2;this.cog.regY=this.cog.image.height/2}this.cog.scaleX=this.cog.scaleY=0.08;if(a.x){this.dragger.x=Number(a.x)}if(a.y){this.dragger.y=Number(a.y)}return this.dragger},override_reDraw:function(){},willDestroyElement:function(){this._super();this.cog=this.dragger=null}});