App.TransitionView=App.SmartView.extend({className:"TransitionView",templateName:"transition",tagName:"div",$dst:undefined,didInsertElement:function(){this._super();this.$dst=$("canvas.transition-canvas",this.get("$el"));$(window).bind("resize.TransitionView",function(a){return function(){a.doResize()}}(this));this.get("$el").bind("click.TransitionView",function(a){return function(){a.doClick()}}(this));App.transitionView=this;this.doResize()},draw:function(a){var b=this.$dst;var c={width:a.css("width"),height:a.css("height")};b.css(c).attr(c);b[0].getContext("2d").clearRect(0,0,b[0].width,b[0].height);b[0].getContext("2d").drawImage(a[0],0,0)},show:function(){this.get("$el").fadeIn(0)},hide:function(){this.get("$el").fadeOut(1400)},clear:function(){this.$dst[0].getContext("2d").clearRect(0,0,this.$dst[0].width,this.$dst[0].height)},willDestroyElement:function(){this._super();$(window).unbind("resize.TransitionView")},doClick:function(b){var a=this.get("parentView");a.removeObject(this)},doResize:function(f){var a,c,d,b=$(window).width();if(b>App.BREAKPOINT.WIDTH_2){a=App.BREAKPOINT.WIDTH_2;c=App.BREAKPOINT.HEIGHT_2;d="rgba(0, 255, 200, 0.2)"}else{if(b>App.BREAKPOINT.WIDTH_1){a=App.BREAKPOINT.WIDTH_1;c=App.BREAKPOINT.HEIGHT_1;d="rgba(0, 200, 255, 0.2)"}else{a=App.BREAKPOINT.WIDTH_0;c=App.BREAKPOINT.HEIGHT_0;d="rgba(0, 200, 200, 0.2)"}}$(".transition-canvas",this.get("$el")).css({width:a+"px",height:c+"px"})},redraw:function(){}});