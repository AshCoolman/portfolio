App.MachineController=App.TemplatedPixelGroupController.extend({className:"MachineController",label:"MachineController",targetController:null,isOn:false,isInteractive:false,coggedPixelCreatedFunc:null,CoggedPixelControllerCreated:function(b){this._super(b);var c=b.get("view"),a=this.get("coggedPixelCreatedFunc");if(!a){a=function(d){return function(f){if(f.eslObj.on("click",function(e){return function(){console.log(e.eslObj)}})){d.get("view").trySetPowerLed(f.eslObj,f.view.get("shp"))}d.get("view").trySetActivityLed(f.eslObj,f.view.get("shp"))}}(this);this.set("coggedPixelCreatedFunc",a)}c.addEventListener("eslObjCreated",a,false);this.set("coggedPixelCreatedFunc",a)},view_willDestroyElement:function(){this._super();var c=this.get("pixels"),a=this.get("coggedPixelCreatedFunc");for(var b=0;b<c.length;b++){c[b].removeEventListener("eslObjCreated",a)}this.set("isOn",false);this.set("isInteractive",false);this.set("targetController",null)},setTarget:function(a){this.set("targetController",a)},setInteractive:function(a){if(!a){this.set("isOn",false)}if(a!=this.get("isInteractive")){this.set("isInteractive",a)}},togglePower:function(){this.set("isOn",!this.get("isOn"));if(this.get("isOn")){this.send("doMachineTurnOn")}else{this.send("doMachineTurnOff")}},doActivateTarget:function(){var a=this.get("targetController");a&&a.doActivate&&a.doActivate()}});App.register("controller:machine",App.MachineController,{singleton:false});