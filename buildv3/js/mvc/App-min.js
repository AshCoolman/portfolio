try{Modernizr.webgl=!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){Modernizr.webgl=false}Ember.Handlebars.registerHelper("controlWithVars",function(q,l,r){if(arguments.length===2){r=l;l=undefined}var h;if(l){h=Ember.Handlebars.get(this,l,r)}var i=r.data.keywords.controller,p=r.data.keywords.view,b=Em.get(i,"_childContainers"),f=r.hash.controlID,a,o;if(b.hasOwnProperty(f)){o=b[f]}else{a=i.get("container"),o=a.child();b[f]=o}var c=q.replace(/\//g,".");var j=o.lookup("view:"+c)||o.lookup("view:default"),g=o.lookup("controller:"+c),n=o.lookup("template:"+q);if(!window.controller){window.controller=0}for(var d in r.hash){g[d]=r.hash[d]}Ember.assert("Could not find controller for path: "+c,g);Ember.assert("Could not find view for path: "+c,j);Em.set(g,"target",i);Em.set(g,"model",h);r.hash.template=n;r.hash.controller=g;function m(){var k=Ember.Handlebars.get(this,l,r);set(g,"model",k);j.rerender()}Ember.addObserver(this,l,m);j.one("willDestroyElement",this,function(){Ember.removeObserver(this,l,m)});Ember.Handlebars.helpers.view.call(this,j,r)});Ember.Handlebars.registerHelper("controlWithVarsold",function(q,m,r){var i,b,p,j,g,a,o,c;var d=q.replace(/\//g,".");console.log("controlWithVars",q);console.log(">path",q);console.log(">contextString",m);console.log(">options",r);console.log(">container",r.data.keywords.controller.container);console.log("keywords>",r.data.keywords);if(arguments.length===2){r=m;m=undefined}a=r.data.keywords.controller.container;if(typeof m==="string"){g=r.contexts[1];b=Ember.Handlebars.get(g,m,r);console.log(">(contextString is string) context",b)}else{if(m){b=Ember.Handlebars.get(this,m,r)}}if(j=r.hash.controller){}else{j=Ember.controllerFor(a,d,b)}p=r.data.keywords.view;c=Em.get(j,"_childContainers"),controlID=r.hash.controlID;if(c.hasOwnProperty(controlID)){o=c[controlID]}else{a=Em.get(j,"container"),o=a.child();c[controlID]=o}var l=o.lookup("view:"+d)||o.lookup("view:default"),h=o.lookup("controller:"+d),n=o.lookup("template:"+q);for(var f in r.hash){h.set(f,r.hash[f])}console.log("view?",p);console.log("childView?",l);console.log("childController?",h);Ember.assert("Could not find controller for path: "+d,h);Ember.assert("Could not find view for path: "+d,l);Em.set(h,"target",j);Em.set(h,"context",b);r.hash.template=n;r.hash.controller=j;console.log("adding via view:",l);Ember.Handlebars.helpers.view.call(this,l,r)});Ember.Handlebars.registerHelper("renderWithVars",function(a,f,j){Ember.assert("You must pass a template to render",arguments.length>=2);var b,i,d,h,c;if(arguments.length===2){j=f;f=undefined}if(typeof f==="string"){c=Ember.Handlebars.get(j.contexts[1],f,j)}a=a.replace(/\//g,".");b=j.data.keywords.controller.container;i=b.lookup("router:main");Ember.assert("This view is already rendered",!i||!i._lookupActiveView(a));h=b.lookup("view:"+a)||b.lookup("view:default");$.extend(j.hash.controller,j.hash);if(d=j.hash.controller){d=b.lookup("controller:"+d);console.log("controller")}else{d=Ember.controllerFor(b,a,c)}$.extend(d,j.hash);if(d&&c){d.set("model",c)}var g=j.contexts[1];if(g){h.registerObserver(g,f,function(){d.set("model",Ember.Handlebars.get(g,f,j))})}j.hash.viewName=Ember.String.camelize(a);j.hash.template=b.lookup("template:"+a);j.hash.controller=d;if(i){i._connectActiveView(a,h)}Ember.Handlebars.helpers.view.call(this,h,j)});createjs.CSSPlugin.install();App=Ember.Application.create({DEBUG:false,PRELOADER:{},preloadedImages:{},scriptModel:null,rootElement:$(".app")[0],ready:function(){App.scriptModel=App.ScriptModel.create({});App.Router.map(function(){this.route("index",{path:"/"});this.route("dimension1",{path:"/d1"});this.route("dimension2",{path:"/d2"});this.route("dimension3",{path:"/d3"})})},readyAndLoaded:function(){console.log("readyAndLoaded")},eventMapper:ragh.eventMapper,colors:["#FF0000","#993366","#3399CC","#0099FF","#00CC33","#00FF00"]});App.BREAKPOINT={WIDTH_2:1200,HEIGHT_2:600,WIDTH_1:800,HEIGHT_1:400,WIDTH_0:600,HEIGHT_0:300};App.PIXEL_SIZE=30;App.USER_X=-15;App.USER_Y=240;App.dictionary=Em.Object.create({copy:{},isReady:false,init:function(){App.eventMapper.addEventListener("preloaderIsLoaded",this,function(a){return function(b,c){a.isReady=true;App.eventMapper.trigger("isDictionaryReady")}}(this))}});Em.Object.reopenClass({create:function(a){return this._super().setProperties(a)}});App.KnobController=Em.ObjectController.extend({callDynamicController:function(){console.log(".callDynamicController()")}});App.KnobView=Em.View.extend({templateName:"knob"});if(App.DEBUG){var stats=new Stats();stats.setMode(1);stats.domElement.style.position="absolute";stats.domElement.style.left="0px";stats.domElement.style.top="0px";document.body.appendChild(stats.domElement);setInterval(function(){stats.begin();stats.end()},1000/60)};